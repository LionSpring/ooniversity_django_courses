{% extends 'base.html' %}
{% load staticfiles %}


{% block title %}{{ object_list.0.name }}{% endblock %}

{% block nav_additional_botton %}
            <li><a href="{% url 'students' %}?course_id={{ object_list.0.id }}">Студенты <sub style="font-size:50%">(этого курса)</sub></a></li>
{% endblock %}


{% block main %}
<!-- Course info ================================================== -->

    <div class="container">
      <h1>{{ object_list.0.name }}</h1>
      <p>{{ object_list.0.description|linebreaks }}</p>
    </div>

<!-- Coaches ================================================== -->

    <div class="container">
      <h2 class="sub-header"><a href="{% url 'coaches:coaches' %}">Преподаватели</a></h2>
    </div>

    <div class="container">
      <div class="row">
{% include 'includes/inc_block_instructor.html' with block_title='Учитель' instructor=object_list.0.coach %}
{% include 'includes/inc_block_instructor.html' with block_title='Асистент' instructor=object_list.0.assistant %}
      </div>
    </div>

<!-- COURSE lessen ================================================== -->

    <div class="container">
      <h2 class="sub-header">План курса</h2>
    </div>

    <div class="container">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>#</th>
              <th>Тема</th>
              <th>Описание</th>
            </tr>
          </thead>
          {% for lesson in object_list.0.lesson_set.filter|dictsort:"consecutive_number" %}
          <tbody>
            <tr>
              <td><p>{{ lesson.consecutive_number }}</p></td>
              <td>{{ lesson.theme }}</td>
              <td><p>{{ lesson.description }}</p></td>
            </tr>
          </tbody>
          {% endfor %}
        </table>
      </div>
    </div>
{% endblock main %}
